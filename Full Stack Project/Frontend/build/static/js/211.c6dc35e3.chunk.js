"use strict";(self.webpackChunkhospital=self.webpackChunkhospital||[]).push([[211],{1078:(e,t,o)=>{o.r(t),o.d(t,{default:()=>S});var r=o(3519),s=o(1072),n=o(8602),i=o(2555),l=o(5043),a=o(1591),m=o(7391),c=o(9722),d=o(4650),u=o.n(d),p=o(64),x=o.n(p),f=o(6522),g=o(1666),h=o(8155);const y=o.p+"static/media/login.8bc08349823f51221742.png";var w=o(6720),b=o(423),j=o(184),v=o(6580),N=o(579);const C=function(){const[e,t]=(0,l.useState)(!1),[o,r]=(0,l.useState)("false"!==localStorage.getItem("Remember Me")),[d,p]=(0,l.useState)(E()),[C,S]=(0,l.useState)(localStorage.getItem("limit")>0?localStorage.getItem("limit"):0),[T,B]=(0,l.useState)({email:"",password:""}),A=(0,v.Zp)(),k=localStorage.getItem("email"),F=localStorage.getItem("refreshToken");function E(){return window.innerWidth>1200?"-160px":window.innerWidth>992?"-110px":window.innerWidth>767?"-70px":(window.innerWidth,"0px")}const P=e=>{const{name:t,value:o}=e.target;B((0,i.A)((0,i.A)({},T),{},{[t]:o}))};return(0,l.useEffect)((()=>{const e=()=>{p(E())};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,l.useEffect)((()=>{m.A.logout((()=>{localStorage.setItem("limit",C)})),C>=5&&setTimeout((()=>{S(0)}),1e3)})),(0,l.useEffect)((()=>{if(null!==k&&null!==F&&!0===o){B({email:k});const e=document.getElementById("myPassword");e.setAttribute("disabled","true"),e.setAttribute("placeholder","Please login without password")}else{const e=document.getElementById("myPassword");e.removeAttribute("disabled"),e.setAttribute("placeholder","Password")}}),[]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(a.m,{children:[(0,N.jsx)("title",{children:"Login"}),(0,N.jsx)("meta",{name:"description",content:"Only the best when you choose products offered on our platform - high quality\r\ningredients for high quality products!"}),(0,N.jsx)("meta",{name:"keywords",content:"medical,medicine,tablet,hospital products,hospital,hospitals,vitamin,weight less,minerals"})]}),(0,N.jsx)(s.A,{className:"m-0 w-100 h-100 px-0 px-xl-5 px-lg-5 px-md-5 px-sm-0 py-xl-2 py-lg-1 py-md-1 py-sm-0",style:{background:"#E2F5FB"},children:(0,N.jsx)(n.A,{className:"m-0 p-0 d-flex justify-content-md-center align-items-md-center py-xl-4 py-lg-5 py-md-5 py-sm-0 py-0",children:(0,N.jsx)("div",{className:"m-0 p-0 w-100 border border-2",style:{borderColor:"#727272",background:"#FFFFFF",borderRadius:"10px"},children:(0,N.jsxs)(s.A,{className:"w-100 d-flex h-100 m-0 p-0",children:[(0,N.jsx)(n.A,{className:"d-none d-xl-flex d-lg-flex d-md-flex d-sm-none justify-content-center align-items-center p-xl-5 p-lg-5 p-md-5 p-sm-5",xl:8,lg:8,md:8,children:(0,N.jsxs)("div",{className:"w-100 m-0 p-0 d-flex flex-column",children:[(0,N.jsxs)("div",{className:"flex-column m-0 p-0 w-100",children:[(0,N.jsx)("p",{className:"m-0 p-0 text-center fw-bolder",style:{color:"#17414F",fontSize:"17px"},children:"Essential Vitamins"}),(0,N.jsx)("p",{className:"m-0 p-0 text-center",style:{color:"#727272",fontSize:"14px"},children:"Only the best when you choose products offered on our platform."}),(0,N.jsx)("p",{className:"m-0 p-0 text-center",style:{color:"#727272",fontSize:"14px"},children:"high quality ingredients for high quality products!"})]}),(0,N.jsx)("div",{className:"m-0 p-0 w-100 d-flex justify-content-center align-items-center mt-3",children:(0,N.jsx)("img",{src:y,className:"img-fluid",alt:"loginImage"})})]})}),(0,N.jsx)(n.A,{className:"d-flex justify-content-center align-items-center py-0 px-3 px-sm-5 py-sm-5 px-md-0 px-lg-0 px-xl-0 px-xxl-0",xl:4,lg:4,md:4,sm:12,xs:12,style:{background:"#17414F",borderTopRightRadius:"10px",borderBottomRightRadius:"10px"},children:(0,N.jsx)("div",{className:"p-0 w-100 border border-2 align-items-center d-flex justify-content-center shadow py-5 py-xl-5 py-md-4 py-sm-5",style:{marginLeft:"".concat(d),borderRadius:"10px",borderColor:"#727272",background:"#FFFFFF"},children:(0,N.jsx)(f.A,{className:"h-75 w-75 d-flex",id:"myForm",onSubmit:e=>!0===o&&null!==k&&null!==F?(async e=>{if(u().isEmpty(T.email))e.preventDefault(),x().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0,timer:3e3,didOpen:e=>{const t=document.querySelector(".swal2-timer-progress-bar");t&&(t.style.backgroundColor="#ff6347"),e.onmouseenter=x().stopTimer,e.onmouseleave=x().resumeTimer}}).fire({icon:"error",title:"Email is Required"});else if(u().isEmail(T.email)){e.preventDefault();const n=(0,i.A)((0,i.A)({},T),F&&{token:F}),l=Object.fromEntries(Object.entries(n).map((e=>{let[t,o]=e;return[t,"email"===t?o.toLowerCase():o&&"string"===typeof o?o.trim():o]})));console.log(l);try{var t,r;const e=await c.A.post("http://127.0.0.1:5000/vitamins/autoLogin",l);if(console.log(e),200===e.data.status&&!0===o){localStorage.setItem("userToken",e.data.userToken),localStorage.setItem("email",l.email),localStorage.removeItem("password");const t=document.getElementById("loginButton");t.textContent="Loading....",t.setAttribute("disabled","true"),m.A.login((()=>{A("/home")}))}else null!==(t=e.data)&&void 0!==t&&t.arMissField?(S(Number(C)+1),x().mixin({toast:!0,position:"top-end",showCancelButton:!1,showConfirmButton:!1,timer:4e3,timerProgressBar:!0,didOpen:e=>{const t=document.querySelector(".swal2-timer-progress-bar");t&&(t.style.backgroundColor="limegreen"),e.onmouseenter=x().stopTimer,e.onmouseleave=x().resumeTimer}}).fire({icon:"error",title:"".concat(e.data.arMissField[0]," is Required")})):"Invalid session. Please re-authenticate with the correct email"===(null===(r=e.data)||void 0===r?void 0:r.msg)?(S(Number(C)+1),x().fire({icon:"success",title:"Update Remember Me Email",text:"The email you entered is different from the saved email. Do you want to update your Remember Me email?",reverseButtons:!0,showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",confirmButtonColor:"limegreen",cancelButtonColor:"#ff6374"}).then((e=>{e.isConfirmed&&(localStorage.removeItem("email"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userToken"),window.location.reload(),A("/"))}))):(S(Number(C)+1),x().mixin({toast:!0,position:"top-end",showCancelButton:!1,showConfirmButton:!1,timer:4e3,timerProgressBar:!0,didOpen:e=>{const t=document.querySelector(".swal2-timer-progress-bar");t&&(t.style.backgroundColor="#ff6347"),e.onmouseenter=x().stopTimer,e.onmouseleave=x().resumeTimer}}).fire({icon:"error",title:"".concat(e.data.msg)}))}catch(s){s.message&&(S(Number(C)+1),x().mixin({toast:!0,position:"top-end",showCancelButton:!1,showConfirmButton:!1,timer:4e3,timerProgressBar:!0,didOpen:e=>{const t=document.querySelector(".swal2-timer-progress-bar");t&&(t.style.backgroundColor="#ff6347"),e.onmouseenter=x().stopTimer,e.onmouseleave=x().resumeTimer}}).fire({icon:"error",title:"Refresh this page Try again."}))}}else e.preventDefault(),x().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0,timer:3e3,didOpen:e=>{const t=document.querySelector(".swal2-timer-progress-bar");t&&(t.style.backgroundColor="#ff6347"),e.onmouseenter=x().stopTimer,e.onmouseleave=x().resumeTimer}}).fire({icon:"error",title:"Enter a valid Email"})})(e):(async e=>{if(u().isEmpty(T.email))e.preventDefault(),x().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0,timer:3e3,didOpen:e=>{const t=document.querySelector(".swal2-timer-progress-bar");t&&(t.style.backgroundColor="#ff6347"),e.onmouseenter=x().stopTimer,e.onmouseleave=x().resumeTimer}}).fire({icon:"error",title:"Email is Required"});else if(u().isEmail(T.email))if(C>=5)e.preventDefault(),x().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0,timer:3e3,didOpen:e=>{const t=document.querySelector(".swal2-timer-progress-bar");t&&(t.style.backgroundColor="#ff6347"),e.onmouseenter=x().stopTimer,e.onmouseleave=x().resumeTimer}}).fire({icon:"error",title:"Too many failed attempts Try again after 10 minutes"});else if(u().isEmpty(T.password))e.preventDefault(),x().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{const t=document.querySelector(".swal2-timer-progress-bar");t&&(t.style.backgroundColor="#ff6347"),e.onmouseenter=x().stopTimer,e.onmouseleave=x().resumeTimer}}).fire({icon:"error",title:"Password is Required"});else if(u().isStrongPassword(T.password)){e.preventDefault();const t=Object.fromEntries(Object.entries(T).map((e=>{let[t,o]=e;return[t,"email"===t?o.toLowerCase():o&&"string"===typeof o?o.trim():o]})));console.log(t),m.A.login((()=>{A("/home")}))}else e.preventDefault(),x().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:8e3,timerProgressBar:!0,didOpen:e=>{const t=document.querySelector(".swal2-timer-progress-bar");t&&(t.style.backgroundColor="#ff6347"),e.onmouseenter=x().stopTimer,e.onmouseleave=x().resumeTimer}}).fire({icon:"error",title:"The Password must contain 8 characters, including an uppercase letter, lowercase letter, number and special characters."});else e.preventDefault(),x().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0,timer:3e3,didOpen:e=>{const t=document.querySelector(".swal2-timer-progress-bar");t&&(t.style.backgroundColor="#ff6347"),e.onmouseenter=x().stopTimer,e.onmouseleave=x().resumeTimer}}).fire({icon:"error",title:"Enter a valid Email"})})(e),children:(0,N.jsxs)("div",{className:"m-0 p-0 flex-column w-100 mt-xl-0",children:[(0,N.jsx)("p",{className:"m-0 p-0 text-center fw-bolder",style:{color:"#17414F",fontSize:"17px"},children:"Login Please"}),(0,N.jsx)("p",{className:"m-0 p-0 text-center mt-1",style:{color:"#727272",fontSize:"14px"},children:"This is a secure system and you will need to"}),(0,N.jsx)("p",{className:"m-0 p-0 text-center",style:{color:"#727272",fontSize:"14px"},children:"provide your logim details to access the site."}),(0,N.jsx)(f.A.Group,{className:"w-100 m-0 p-0 border-0 mt-3 mt-xl-5",children:(0,N.jsxs)(g.A,{className:"rounded-2",style:{border:"2px solid #17414F"},children:[(0,N.jsx)(g.A.Text,{className:"bg-transparent",style:{border:"none"},children:(0,N.jsx)(w.mm2,{})}),(0,N.jsx)(f.A.Control,{type:"text",placeholder:"Email",name:"email",value:T.email,onChange:e=>P(e),maxLength:400,className:"bg-transparent rounded-2",style:{border:"none",boxShadow:"none",outline:"none"}})]})}),(0,N.jsx)(f.A.Group,{className:"w-100 m-0 p-0 border-0 mt-3",children:(0,N.jsxs)(g.A,{className:"rounded-2",style:{border:"2px solid #17414F"},children:[(0,N.jsx)(g.A.Text,{className:"bg-transparent",style:{border:"none"},children:(0,N.jsx)(b.zvt,{})}),(0,N.jsx)(f.A.Control,{type:e?"text":"password",placeholder:"Password",name:"password",id:"myPassword",value:T.password,onChange:e=>P(e),maxLength:30,className:"bg-transparent rounded-2",style:{border:"none",boxShadow:"none",outline:"none"}}),(0,N.jsx)(g.A.Text,{className:"bg-transparent",style:{border:"none"},children:e?(0,N.jsx)(j.mx3,{onClick:()=>t(!1),style:{cursor:"pointer"}}):(0,N.jsx)(j.Ny1,{onClick:()=>t(!0),style:{cursor:"pointer"}})})]})}),(0,N.jsx)("div",{className:"d-flex m-0 p-0 w-100 mt-2 mb-2 justify-content-end",children:(0,N.jsx)("a",{onClick:()=>(localStorage.setItem("showComponent",0),void A("/forgot")),className:"fs-6 m-0 p-0",style:{color:"#2D3F59",textDecoration:"none",cursor:"pointer"},children:"Forgot Password?"})}),(0,N.jsx)("div",{className:"d-flex m-0 p-0",children:(0,N.jsx)(h.A,{className:"w-100 text-center border-0 rounded-2",id:"loginButton",type:"submit",style:{background:"#17414F",color:"white"},children:(0,N.jsx)("span",{className:"fw-bolder",children:"Login"})})}),(0,N.jsx)("div",{className:"d-flex m-0 p-0 w-100 mt-3 justify-content-center",children:(0,N.jsx)("p",{className:"w-100 m-0 p-0 text-center",children:"OR"})}),(0,N.jsx)("div",{className:"m-0 p-0 d-flex justify-content-end w-100 gap-1",children:(0,N.jsxs)("p",{className:"m-0 p-0 gap-3 mt-1 mt-xl-0 mt-sm-1 mt-lg-0 mt-md-0 text-md-center",style:{color:"#17414F"},children:["Dont have an account? ",(0,N.jsx)(v.N_,{className:"fw-bolder text-decoration-none",style:{color:"#17414F"},to:"/register",children:"register"})]})})]})})})})]})})})})]})};const S=function(){return(0,N.jsx)(r.A,{fluid:!0,className:"m-0 p-0 vh-100",children:(0,N.jsx)(s.A,{className:"m-0 p-0 d-flex h-100",children:(0,N.jsx)(n.A,{className:"d-flex m-0 p-0 h-100",children:(0,N.jsx)(C,{})})})})}}}]);
//# sourceMappingURL=211.c6dc35e3.chunk.js.map